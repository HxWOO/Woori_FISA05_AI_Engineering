# ğŸ“… 2ì£¼ì°¨ - 9ì¼ì°¨

## ğŸ¼ Pandas (Python Data Analysis Library)

- **ë°ì´í„° ë¶„ì„**ì„ ìœ„í•œ íŒŒì´ì¬ í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬.
- **DataFrame**ì´ë¼ëŠ” 2ì°¨ì› í…Œì´ë¸” í˜•íƒœì˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ì‚¬ìš©í•´, ì—‘ì…€ì²˜ëŸ¼ ì§ê´€ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŒ.

---

### 1. Pandasë¥¼ ì™œ ì“¸ê¹Œ? ğŸ¤”

- **ë¹ ë¥¸ ì†ë„**: Numpy ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬.
- **ì‰¬ìš´ ë°ì´í„° í•¸ë“¤ë§**: ë³µì¡í•œ ë°ì´í„° ì „ì²˜ë¦¬, ì •ì œ, ë¶„ì„ ì‘ì—…ì„ ê°„ê²°í•œ ì½”ë“œë¡œ ìˆ˜í–‰ ê°€ëŠ¥.
- **ë‹¤ì–‘í•œ í¬ë§· ì§€ì›**: CSV, Excel, SQL ë“± ì—¬ëŸ¬ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì‰½ê²Œ ì½ê³  ì“¸ ìˆ˜ ìˆìŒ.
- **êµ¬ì¡°ì ì¸ ë°ì´í„°**: **DataFrame**ì€ **Series(1ì°¨ì› ë°°ì—´)**ê°€ ëª¨ì¸ 2ì°¨ì› êµ¬ì¡°ë¡œ, ì§ê´€ì ì´ê³  ë‹¤ë£¨ê¸° ì‰¬ì›€.

> **ğŸ’¡ Tip**: PandasëŠ” í–‰(row)ì´ ì•„ë‹Œ **ì—´(column)ì„ ê¸°ë³¸ ë‹¨ìœ„**ë¡œ ë‹¤ë£¸. `DataFrame[ì—´][í–‰]` ìˆœì„œë¡œ ì ‘ê·¼.

---

### 2. `DataFrame`: Pandasì˜ í•µì‹¬ âœ¨

- **ì •ì˜**: ì¸ë±ìŠ¤(index), ì»¬ëŸ¼(column), ê°’(value)ìœ¼ë¡œ êµ¬ì„±ëœ 2ì°¨ì› ë°ì´í„° êµ¬ì¡°.

#### ğŸ“ `DataFrame` ìƒì„± ë° ê¸°ë³¸ ì¡°ì‘

```python
import numpy as np
import pandas as pd

# ë”•ì…”ë„ˆë¦¬ë¡œ DataFrame ìƒì„±
data = {
    'Name': ['S1', 'S2', 'S3'],
    'Age': [25, 28, 22],
    'Score': [95, 85, 75]
}
df = pd.DataFrame(data)

# ì»¬ëŸ¼ ì ‘ê·¼
print(df['Name'])  # Series í˜•íƒœë¡œ ë°˜í™˜
# print(df.Name) # ë™ì¼í•œ ê²°ê³¼

# ì£¼ìš” ì†ì„±
print(df.columns) # ì»¬ëŸ¼ ì´ë¦„ í™•ì¸
print(df.index)   # ì¸ë±ìŠ¤ ì •ë³´ í™•ì¸
print(df.values)  # Numpy ë°°ì—´ í˜•íƒœë¡œ ê°’ í™•ì¸

# ì»¬ëŸ¼ ì¶”ê°€ ë° ë³€ê²½
df['Region'] = ['ê°•ë™', 'ê°•ì„œ', None] # ìƒˆ ì»¬ëŸ¼ ì¶”ê°€
df['Region'] = 'ìƒì•”' # ëª¨ë“  í–‰ì— ê°™ì€ ê°’ ì ìš© (ë¸Œë¡œë“œìºìŠ¤íŒ…)

# ì»¬ëŸ¼/í–‰ ì‚­ì œ
df.drop('Region', axis=1, inplace=True) # axis=1: ì—´ ê¸°ì¤€, inplace=True: ì›ë³¸ì— ë°”ë¡œ ì ìš©
df.drop(2, axis=0, inplace=True)      # axis=0: í–‰ ê¸°ì¤€
```

---

### 3. ë°ì´í„° ì¡°íšŒ ë° íƒìƒ‰ ğŸ”

- ë°ì´í„°ì˜ êµ¬ì¡°ì™€ íŠ¹ì§•ì„ íŒŒì•…í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ë©”ì„œë“œë“¤.

#### ğŸ“ ì£¼ìš” ì¡°íšŒ ë©”ì„œë“œ

```python
# ë°ì´í„° ìš”ì•½ ì •ë³´
df.info() # ë°ì´í„° íƒ€ì…, non-null ê°œìˆ˜ ë“± êµ¬ì¡°ì  ì •ë³´
df.describe() # ìˆ˜ì¹˜í˜• ë°ì´í„°ì˜ í†µê³„ ìš”ì•½ (í‰ê· , í‘œì¤€í¸ì°¨ ë“±)

# ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°
df.head() # ì²˜ìŒ 5í–‰
df.tail() # ë§ˆì§€ë§‰ 5í–‰

# ê³ ìœ ê°’ í™•ì¸
df['Age'].unique()   # ê³ ìœ í•œ ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜
df['Age'].nunique()  # ê³ ìœ í•œ ê°’ì˜ ê°œìˆ˜
```

---

### 4. ë°ì´í„° í•©ì¹˜ê¸° ğŸ¤

- ì—¬ëŸ¬ DataFrameì„ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ê²°í•©.

| ë©”ì„œë“œ | ì„¤ëª… | íŠ¹ì§• |
| :--- | :--- | :--- |
| **`concat()`** | ë°ì´í„°í”„ë ˆì„ì„ ê·¸ëŒ€ë¡œ ì´ì–´ ë¶™ì„ | `axis=0` (í–‰), `axis=1` (ì—´) ê¸°ì¤€. ì¤‘ë³µ ì²˜ë¦¬ ì•ˆ í•¨. |
| **`merge()`** | ê³µí†µëœ ì—´(key)ì„ ê¸°ì¤€ìœ¼ë¡œ ë³‘í•© | SQLì˜ `JOIN`ê³¼ ìœ ì‚¬. ì¤‘ë³µëœ ì—´ì€ í•˜ë‚˜ë¡œ í•©ì¹¨. |
| **`join()`** | ì¸ë±ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³‘í•© | `merge()`ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì¸ë±ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘. |

---

### 5. ì¸ë±ì‹±ê³¼ ìŠ¬ë¼ì´ì‹±: `loc` vs `iloc` ğŸ¯

- **`loc`**: **ë¼ë²¨(ì´ë¦„)** ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ì— ì ‘ê·¼. (e.g., `df.loc[0, 'Name']`)
- **`iloc`**: **ì •ìˆ˜ ì¸ë±ìŠ¤(ìœ„ì¹˜)** ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ì— ì ‘ê·¼. (e.g., `df.iloc[0, 0]`)

```python
# loc: ë¼ë²¨ ê¸°ë°˜ ìŠ¬ë¼ì´ì‹± (ëì  í¬í•¨)
df.loc[0:1, 'Name':'Age']

# iloc: ì •ìˆ˜ ì¸ë±ìŠ¤ ê¸°ë°˜ ìŠ¬ë¼ì´ì‹± (ëì  ë¯¸í¬í•¨)
df.iloc[0:2, 0:2]

# ì¡°ê±´ë¶€ í•„í„°ë§
df.loc[df['Age'] > 23, ['Name', 'Score']] # ë‚˜ì´ê°€ 23ì„¸ ì´ˆê³¼ì¸ ì‚¬ëŒì˜ ì´ë¦„ê³¼ ì ìˆ˜
```

---

### 6. ì£¼ìš” ê¸°ëŠ¥ ë° ë©”ì„œë“œ âš™ï¸

#### âœ¨ ì •ë ¬ (`sort_values`)
- íŠ¹ì • ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë ¬.

```python
# 'Age' ì»¬ëŸ¼ ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
df.sort_values('Age')

# 'Age' ë‚´ë¦¼ì°¨ìˆœ, 'Name' ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë‹¤ì¤‘ ì •ë ¬
df.sort_values(['Age', 'Name'], ascending=[False, True])
```

#### âœ¨ ê·¸ë£¹í™” (`groupby`)
- íŠ¹ì • ì—´ì˜ ê°’ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ì§‘ê³„ í•¨ìˆ˜(sum, mean ë“±)ë¥¼ ì ìš©.

```python
# 'Class' ë³„ ì ìˆ˜ í‰ê·  ê³„ì‚°
df.groupby('Class')['Score'].mean()
```

#### âœ¨ í•¨ìˆ˜ ì ìš© (`apply`)
- DataFrameì˜ í–‰ì´ë‚˜ ì—´ì— ë³µì¡í•œ í•¨ìˆ˜ë¥¼ ì¼ê´„ì ìœ¼ë¡œ ì ìš©.

```python
def get_grade(score):
    if score >= 90:
        return 'A'
    elif score >= 80:
        return 'B'
    else:
        return 'C'

df['Grade'] = df['Score'].apply(get_grade)
```

#### âœ¨ íŒŒì¼ ì…ì¶œë ¥
- CSV, Excel ë“± ë‹¤ì–‘í•œ í˜•ì‹ì˜ íŒŒì¼ì„ ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆìŒ.

```python
# CSV íŒŒì¼ë¡œ ì €ì¥ (ì¸ë±ìŠ¤ ì œì™¸)
df.to_csv('my_data.csv', index=False)

# CSV íŒŒì¼ ì½ê¸°
new_df = pd.read_csv('my_data.csv')
```

---

### 7. ì‹¤ìŠµ ì˜ˆì œ ğŸ’»

- ì•„ë˜ ë°ì´í„°í”„ë ˆì„ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ë¬¸ì œë“¤ì„ í•´ê²°í•´ ë³´ì„¸ìš”.

```python
import numpy as np
import pandas as pd

# ì˜ˆì œ ë°ì´í„°í”„ë ˆì„ ìƒì„±
data = {'country': ['Belgium', 'France', 'Germany', 'Netherlands', 'United Kingdom'],
        'population': [11.3, 64.3, 81.3, 16.9, 64.9],
        'area': [30510, 671308, 357050, 41526, 244820],
        'capital': ['Brussels', 'Paris', 'Berlin', 'Amsterdam', 'London']}
countries = pd.DataFrame(data)
```

---

#### ğŸ“ ì‹¤ìŠµ 1: ì¸êµ¬ ë°€ë„(`density`) ì¹¼ëŸ¼ ì¶”ê°€
- **ë¬¸ì œ**: ì¸êµ¬ ë°€ë„ë¥¼ ê³„ì‚°í•˜ì—¬ `density` ì¹¼ëŸ¼ì„ ì¶”ê°€í•˜ì„¸ìš”. (ì£¼ì˜: `population`ì€ 100ë§Œ ë‹¨ìœ„ì…ë‹ˆë‹¤.)
- **í’€ì´**:
```python
countries['density'] = (countries['population'] * 1000000) / countries['area']
```

---

#### ğŸ“ ì‹¤ìŠµ 2: íŠ¹ì • ì¡°ê±´ì˜ ë°ì´í„° ì„ íƒ
- **ë¬¸ì œ**: ì¸êµ¬ ë°€ë„ê°€ 300ì„ ì´ˆê³¼í•˜ëŠ” êµ­ê°€ì˜ ìˆ˜ë„(`capital`)ì™€ ì¸êµ¬(`population`)ë¥¼ ì„ íƒí•˜ì„¸ìš”.
- **í’€ì´**:
```python
countries.loc[countries['density'] > 300, ['capital', 'population']]
```

---

#### ğŸ“ ì‹¤ìŠµ 3: íŒŒìƒ ë³€ìˆ˜ ì¶”ê°€
- **ë¬¸ì œ**: `density_ratio` ì¹¼ëŸ¼ì„ ì¶”ê°€í•˜ì„¸ìš”. (ê°’ = ì¸êµ¬ ë°€ë„ / í‰ê·  ì¸êµ¬ ë°€ë„)
- **í’€ì´**:
```python
countries['density_ratio'] = countries['density'] / countries['density'].mean()
```

---

#### ğŸ“ ì‹¤ìŠµ 4: íŠ¹ì • ê°’ ë³€ê²½
- **ë¬¸ì œ**: ì˜êµ­(United Kingdom)ì˜ ìˆ˜ë„(`capital`)ë¥¼ 'Cambridge'ë¡œ ë³€ê²½í•˜ì„¸ìš”.
- **í’€ì´**:
```python
countries.loc[countries['country'] == 'United Kingdom', 'capital'] = 'Cambridge'
```

---

#### ğŸ“ ì‹¤ìŠµ 5: ë‹¤ì¤‘ ì¡°ê±´ í•„í„°ë§
- **ë¬¸ì œ**: ì¸êµ¬ ë°€ë„ê°€ 100 ì´ˆê³¼, 300 ë¯¸ë§Œì¸ êµ­ê°€ë“¤ì„ í‘œì‹œí•˜ì„¸ìš”.
- **í’€ì´**:
```python
countries.loc[(countries['density'] > 100) & (countries['density'] < 300)]
```

---

#### ğŸ“ ì‹¤ìŠµ 6: ë¬¸ìì—´ ê¸¸ì´ ì¡°ê±´
- **ë¬¸ì œ**: ìˆ˜ë„(`capital`) ì´ë¦„ì´ 7ê¸€ì ì´ìƒì¸ êµ­ê°€ë“¤ì„ í‘œì‹œí•˜ì„¸ìš”.
- **í’€ì´**:
```python
countries.loc[countries['capital'].str.len() >= 7]
```

---

#### ğŸ“ ì‹¤ìŠµ 7: ë¬¸ìì—´ í¬í•¨ ì¡°ê±´
- **ë¬¸ì œ**: ìˆ˜ë„(`capital`) ì´ë¦„ì— 'am'ì´ í¬í•¨ë˜ëŠ” êµ­ê°€ë“¤ì„ í‘œì‹œí•˜ì„¸ìš”.
- **í’€ì´**:
```python
countries.loc[countries['capital'].str.contains('am')]
```

---

#### ğŸ“ ì‹¤ìŠµ 8: íŒŒì¼ ì…ì¶œë ¥
- **ë¬¸ì œ**: `countries` ë°ì´í„°í”„ë ˆì„ì„ `countries.csv`ë¡œ ì €ì¥í•œ í›„, `country` ì—´ì„ ì¸ë±ìŠ¤ë¡œ í•˜ì—¬ `countries_final` ë³€ìˆ˜ë¡œ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.
- **í’€ì´**:
```python
# íŒŒì¼ë¡œ ì €ì¥
countries.to_csv("countries.csv", index=False)

# ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•˜ì—¬ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
countries_final = pd.read_csv("countries.csv", index_col='country')
print(countries_final)
```